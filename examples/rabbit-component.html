<!DOCTYPE html>
<!-- saved from url=(0038) -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rabbit-component.js - Rabbit</title>
    <meta name="keywords" content="rabbit,邓维浩,wavedeng">
    <meta name="description" content="the most unpopular front end framework">
    <meta name="author" content="邓维浩">
    <link rel="icon" href="http://www.wavedeng.com:8079/images/rabbit.ico" type="image/x-icon">
    
    
        <link href="./rabbit-component.js - Rabbit_files/rabbit.css" rel="stylesheet">
        <link href="./rabbit-component.js - Rabbit_files/site.css" rel="stylesheet">
        <script src="./rabbit-component.js - Rabbit_files/rabbit.min.js.下载"></script>
    
</head>
<body>
    <nav class="rabbit-navbar" id="main-navbar">
        <div class="navbar-left">Rabbit</div>
        <div class="navbar-middle">
            <a class="navbar-link  " href="http://www.wavedeng.com:8079/">首页</a>
            <a class="navbar-link " href="http://www.wavedeng.com:8079/ui">UI组件</a>
            <a class="navbar-link current-link" href="">Rabbit框架</a>
            <div class="search-group">
                <input class="search-input" type="text" name="name" value="">
                <button class="search-button  button-style-2" id="search-fake">search</button>
            </div>
        </div>
        <div class="navbar-right">
            <p class="bread-menu">
                <span class="bread-line"></span>
                <span class="bread-line"></span>
                <span class="bread-line"></span>
            </p>
        </div>
    </nav>
    
<div class="main-container rabbit-container">
    <div class="col-10 col-tablet-10 col-phone-12">
        <a href="https://wavedeng.github.io/rabbit-component/">点击Github页面获取更好的阅读体验</a>
        <section class="doc-section">
            <h2 class="section-name" id="summary">概览</h2>
            <p class="text-section">rabbit-component.js是一个轻量级的前端渲染框架,具有快速将数据渲染到视图上的能力，并响应式修改视图的能力。</p>
            <pre class="text-section">1.挂载：rabbit-component将数据和方法与html模板挂载，根据数据与模板属性创建虚拟的节点，节点的属性记录了此节点的类型、数据模型、动态属性与动态类型与事件。
2.渲染：在挂载后rabbit-component会初次从根节点渲染一次，之后的数据模型变动只会局部渲染受到影响的节点
3.事件：触发事件没有办法像vue那样使用无头函数将参数传入方法，可以使用动态属性获取当前数据的index再在数据上进行相关操作
            </pre>
            <section class="section-sub">
                <h2 class="section-sub-name" id="why">特点</h2>
                <p class="text-section">
                    代码量少且可以应付绝大部分的数据渲染情况，使用灵活简单，一个数据可以挂载到多个模型上，对于页面渲染范围较小的非单页应用较为友好
                </p>
            </section>
        </section>

        <section class="doc-section">
            <h2 class="section-name" id="start">开始</h2>
            <section class="section-sub">
                <h2 class="section-sub-name" id="import">导入</h2>
                <p class="text-section">rabbit-component.js与rabbit的ui组件可以分离单独使用，点击下面的链接下载js文件，在相应的html文件中使用script标签链接</p>
                <pre class="code">                &lt;script src="./rabbit-component.js"&gt;&lt;/script&gt;
                </pre>
            </section>
        </section>

        <section class="doc-section">
            <h2 class="section-name" id="doc">指令</h2>
            <section class="section-sub">
                <h2 class="section-sub-name" id="rabbit-text">rabbit-text</h2>
                <p class="text-section">
                    将数据中的对应数据使用innerText渲染到节点
                </p>
                <pre class="code">                    &lt;p rabbit-text="passage.title"&gt;&lt;/p&gt;
                </pre>
            </section>
            <section class="section-sub">
                <h2 class="section-sub-name" id="rabbit-html">rabbit-html</h2>
                <p class="text-section">
                    将数据中的对应数据使用innerHTML渲染到节点
                </p>
                <pre class="code">                    &lt;p rabbit-html="passage.content"&gt;&lt;/p&gt;
                </pre>
            </section>
            <section class="section-sub">
                <h2 class="section-sub-name" id="rabbit-if">if</h2>
                <p class="text-section">
                    如果数据对应的值为true则渲染，其他情况则不显示,并且若开始时其值为false此节点的子节点不会挂载到节点树中，
                    当其第一次由false变为true时，其子节点开始挂载渲染，对于还未加入数据先使用if隔断其挂载
                </p>
                <pre class="code">                    &lt;p if="passage.show"&gt;
                        &lt;div class="passage"&gt;......&lt;/div&gt;
                    &lt;/p&gt;
                </pre>
            </section>
            <section class="section-sub">
                <h2 class="section-sub-name" id="rabbit-for">rabbit-for</h2>
                <p class="text-section">
                    对数组数据进行递归渲染，rabbit-key定义在数组中引用相应对象的变量名,rabbit-index则定义相应数据在数组中的索引变量名
                </p>
                <pre class="code">                   &lt;button rabbit-for="passage.tags" rabbit-key="tag"&gt;
                       &lt;span rabbit-text="tag.name"&gt;&lt;/span&gt;
                   &lt;/button&gt;
                </pre>
            </section>
            <section class="section-sub">
                <h2 class="section-sub-name" id="class">+class</h2>
                <p class="text-section">
                    若第一个参数与第二个参数相等则使用第三个参数作为类，加入到class属性中
                </p>
                <pre class="code">                    &lt;p rabbit-for="links" rabbit-key="link" rabbit-index="linkIndex"&gt;
                        &lt;a href="" class="link" +class="linkIndex,currentIndex,'current',''"&gt;content&lt;/a&gt;
                    &lt;/p&gt;
                </pre>
            </section>
            <section class="section-sub">
                <h2 class="section-sub-name" id="attribute">:attribute</h2>
                <p class="text-section">
                    动态渲染属性，属性值中引用的变量必须使用{{}}包裹
                </p>
                <pre class="code">                    &lt;a  rabbit-text="passage.title" :href="/series/{{series.id}}/passage/{{passage.id}}"&gt;&lt;/a&gt;
                </pre>
            </section>
        </section>

        <section class="doc-section">
            <h2 class="section-name" id="example">示例</h2>
            <p class="text-section">与vue不同，rabbit是原地渲染，所以需要你将模型放在相应的位置</p>
            <section class="section-sub">
                <div class="example-container flex">
                <div class="rabbit-card passage-example right-10" rabbit-for="passages" rabbit-key="passage" rabbit-index="index">
                        <div class="card-header">
                            <img class="card-cover" src="./rabbit-component.js - Rabbit_files/card.jpg" alt="Alternate Text">
                        </div>
                        <div class="card-tail rabbit-card-2">
                            <div class="tail-top">
                                <p class="card-subtitle" rabbit-text="passage.time"></p>
                            </div>
                            <div class="tail-middle">
                                <h2 class="card-title" rabbit-text="passage.title"></h2>
                                <p class="card-desc" rabbit-text="passage.desc"></p>
                            </div>
                            <div class="tail-bottom flex space-between">
                                <div class="tags" if="passage.tags">
                                    <button class="rabbit-rectangle-button small-button" rabbit-for="passage.tags" rabbit-key="tag"><span rabbit-text="tag.name"></span></button>
                                </div>
                                <span class="rabbit-image-text pointer" on:click="thumb" :index="{{index}}">
                                    <img class="image" src="./rabbit-component.js - Rabbit_files/thumb_up.png" alt="Alternate Text">
                                    <span class="text" rabbit-text="passage.thumbCount"></span>
                                </span>
                            </div>
                        </div>
                    </div></div>
                <p class="text-section">上述例子的HTML结构如下</p>
                <pre class="code">                    &lt;div class="example-container flex"&gt;
                        &lt;div class="rabbit-card passage-example right-10" rabbit-for="passages" rabbit-key="passage" rabbit-index="index"&gt;
                            &lt;div class="card-header"&gt;
                                &lt;img class="card-cover" src="/images/card.jpg" alt="Alternate Text" /&gt;
                            &lt;/div&gt;
                            &lt;div class="card-tail rabbit-card-2"&gt;
                                &lt;div class="tail-top"&gt;
                                    &lt;p class="card-subtitle" rabbit-text="passage.time"&gt;&lt;/p&gt;
                                &lt;/div&gt;
                                &lt;div class="tail-middle"&gt;
                                    &lt;h2 class="card-title" rabbit-text="passage.title"&gt;&lt;/h2&gt;
                                    &lt;p class="card-desc" rabbit-text="passage.desc"&gt;&lt;/p&gt;
                                &lt;/div&gt;
                                &lt;div class="tail-bottom flex space-between"&gt;
                                    &lt;div class="tags" if="passage.tags"&gt;
                                        &lt;button class="rabbit-rectangle-button small-button" rabbit-for="passage.tags" rabbit-key="tag"&gt;&lt;span rabbit-text="tag.name"&gt;&lt;/span&gt;&lt;/button&gt;
                                    &lt;/div&gt;
                                    &lt;span class="rabbit-image-text pointer" on:click="thumb" :index="{{index}}"&gt;
                                        &lt;img class="image" src="./images/thumb_up.png" alt="Alternate Text" /&gt;
                                        &lt;span class="text" rabbit-text="passage.thumbCount"&gt;&lt;/span&gt;
                                    &lt;/span&gt;
                                &lt;/div&gt;
                            &lt;/div&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                </pre>
                <p class="text-section">使用脚本将相应的模型和数据链接</p>
                <p class="text-section">一个数据可以应用于多个组件，当这个数据发生改变时，与其绑定的所有组件都会发生相应的改变</p>
                <pre class="code">      var passageComponent = new rabbit.Component(".passage-example");
      var passages = [
      { title: "我是第一篇文章",desc:"我是第一个描述",time:"2020.3.3", thumbCount: 0,thumbed:false },
      { title: "我是第二篇文章",desc:"我是第二个描述", time:"2020.3.4", thumbCount: 0, thumbed: false, tags: [{ name: "随笔" }, {name:"前端"}]}
      ]
      passageComponent.mount({ passages}, { thumb: thumb });
      function thumb() {
      var index = this.getAttribute("index");
      if (passages[index].thumbed == true) {
      alert("你已经点赞过这篇文章了！！！！！");
      return;
      }
      passages[index].thumbCount++;
      passages[index].thumbed = true;
      }
  </pre>
            </section>
        </section>

        <section class="doc-section">
            <h2 class="section-name" id="http">HTTP</h2>
            <p class="text-section">rabbit.http模块将ajax请求封装</p>
            <section class="section-sub">
                <h2 class="section-sub-name" id="get">rabbit.http.get(url,sucCallback,failCallback)</h2>

                <pre class="code">      //发送ajax get请求至相应地址，根据结果执行相应的回调函数
      //url: 地址
      //sucCallback: 成功回调（status==200||status==304）
      //failCallback: 失败回调
  </pre>
            </section>
            <section class="section-sub">
                <h2 class="section-sub-name" id="post">rabbit.http.post(url,formData,sucCallback,failCallback)</h2>
                <pre class="code">      //发送ajax post请求至相应地址，根据结果执行相应的回调函数
      //url: 地址
      //formData: 使用FormData传递的数据
      //sucCallback: 成功回调（status==200||status==304）
      //failCallback: 失败回调
  </pre>
            </section>
            <section class="section-sub">
                <h2 class="section-sub-name" id="patch">rabbit.http.patch(url,formData,sucCallback,failCallback)</h2>
                <pre class="code">                    //发送ajax pacth请求至相应地址，根据结果执行相应的回调函数
                    //url: 地址
                    //formData: 使用FormData传递的数据
                    //sucCallback: 成功回调（status==200||status==304）
                    //failCallback: 失败回调
                </pre>
            </section>
            <section class="section-sub">
                <h2 class="section-sub-name" id="delete">rabbit.http.delete(url,formData,sucCallback,failCallback)</h2>
                <pre class="code">                    //发送ajax delete请求至相应地址，根据结果执行相应的回调函数
                    //url: 地址
                    //formData: 使用FormData传递的数据
                    //sucCallback: 成功回调（status==200||status==304）
                    //failCallback: 失败回调
                </pre>
            </section>
            <section class="section-sub">
                <h2 class="section-sub-name" id="put">rabbit.http.put(url,formData,sucCallback,failCallback)</h2>
                <pre class="code">                    //发送ajax put请求至相应地址，根据结果执行相应的回调函数
                    //url: 地址
                    //formData: 使用FormData传递的数据
                    //sucCallback: 成功回调（status==200||status==304）
                    //failCallback: 失败回调
                </pre>
            </section>
        </section>

    </div>
    <div class="col-2 col-tablet-2 hide-phone">
        <div class="rabbit-document-nav fix-top">
            <ul class="document-sections">
                <li class="document-section">
                    <a class="section-name" href="#summary">概览</a>
                    <ul class="navs">
                        <li class="nav"><a href="#why">特点</a></li>
                    </ul>
                </li>
                <li class="document-section">
                    <a class="section-name" href="#start">开始</a>
                    <ul class="navs">
                        <li class="nav"><a href="#import">导入</a></li>
                    </ul>
                </li>
                <li class="document-section">
                    <a class="section-name" href="#doc">指令</a>
                    <ul class="navs">
                        <li class="nav"><a href="#rabbit-text">rabbit-text</a></li>
                        <li class="nav"><a href="#rabbit-html">rabbit-html</a></li>
                        <li class="nav"><a href="#rabbit-if">if</a></li>
                        <li class="nav"><a href="#rabbit-for">rabbit-for</a></li>
                        <li class="nav"><a href="#class">+class</a></li>
                        <li class="nav"><a href="#attribute">:attribute</a></li>
                    </ul>
                </li>
                <li class="document-section">
                    <a class="section-name" href="#example">示例</a>
                    <ul class="navs"></ul>
                </li>
                <li class="document-section">
                    <a class="section-name" href="#http">HTTP</a>
                    <ul class="navs">
                        <li class="nav"><a href="#get">get</a></li>
                        <li class="nav"><a href="#post">post</a></li>
                        <li class="nav"><a href="#patch">pacth</a></li>
                        <li class="nav"><a href="#delete">delete</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</div>


    
    
    

    
    <script src="./rabbit-component.js - Rabbit_files/rabbit-component.min.js.下载"></script>
    <script>

        rabbit.init();

        var passageComponent = new rabbit.Component(".passage-example");
        var passages = [
            { title: "我是第一篇文章", desc: "我是第一个描述", time: "2020.3.3", thumbCount: 0, thumbed: false },
            { title: "我是第二篇文章", desc: "我是第二个描述", time: "2020.3.4", thumbCount: 0, thumbed: false, tags: [{ name: "随笔" }, { name: "前端" }] }
        ]
        passageComponent.mount({ passages }, { thumb: thumb });
        function thumb() {
            var index = this.getAttribute("index");
            if (passages[index].thumbed == true) {
                alert("你已经点赞过这篇文章了！！！！！");
                return;
            }
            passages[index].thumbCount++;
            passages[index].thumbed = true;
        }

    </script>




<script>
    rabbit.init();
    document.querySelector("#search-fake").addEventListener("click", () => { alert("This is a fake search bar....hhh") });
</script>
</body></html>